<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>k8s - 標籤 - weichen's note</title><link>https://droyuki.github.io/tags/k8s/</link><description>k8s - 標籤 - weichen's note</description><generator>Hugo -- gohugo.io</generator><language>zh-TW</language><managingEditor>droyuki@gmail.com (weichen)</managingEditor><webMaster>droyuki@gmail.com (weichen)</webMaster><lastBuildDate>Sat, 10 Jun 2023 12:06:35 +0800</lastBuildDate><atom:link href="https://droyuki.github.io/tags/k8s/" rel="self" type="application/rss+xml"/><item><title>透過 Pod SNAT 節省 EKS IP 資源</title><link>https://droyuki.github.io/2023/06/eks-nodegroup-in-private-snet/</link><pubDate>Sat, 10 Jun 2023 12:06:35 +0800</pubDate><author>weichen</author><guid>https://droyuki.github.io/2023/06/eks-nodegroup-in-private-snet/</guid><description>前情提要 繼上次發現 EKS Pods 會佔用 ENI 後，為了解決這個問題，我新增另一組 Private IP 和 VPC 關聯，再透過 Private NAT Gateway 做一層轉換，如此就可以讓所有 EKS Pod 透過同一個 Intranet IP 和地</description></item><item><title>EKS Nodegroup IP 的配發原理</title><link>https://droyuki.github.io/2023/05/eks-nodegroup-ip-allocation/</link><pubDate>Wed, 24 May 2023 20:32:58 +0800</pubDate><author>weichen</author><guid>https://droyuki.github.io/2023/05/eks-nodegroup-ip-allocation/</guid><description>前情提要 觀察了一下 AWS IP 的使用情況，發現 EKS Node 是耗用 IP 的一大元兇，查了些資料順手記錄一下。 從 EKS node group 中，挑一台 EC2 Instance 查看 IP 資訊 1. 透過 eksctl 查看 Node Group 資訊 1</description></item><item><title>如何以 kubeadm 快速建立 K8s 叢集</title><link>https://droyuki.github.io/2023/05/k8s-installation/</link><pubDate>Tue, 09 May 2023 23:36:07 +0800</pubDate><author>weichen</author><guid>https://droyuki.github.io/2023/05/k8s-installation/</guid><description><![CDATA[Prerequisites 1. Edit /etc/hosts (all nodes) 1 2 3 4 10.10.10.166 master01-dev 10.10.10.167 master02-dev 10.10.10.168 master03-dev 10.10.10.169 vip.kube.dev 2. Enable bridge traffic 1 2 3 4 5 6 7 8 9 cat &lt;&lt;EOF | sudo tee /etc/modules-load.d/k8s.conf br_netfilter EOF cat &lt;&lt;EOF | sudo tee /etc/sysctl.d/k8s.conf net.bridge.bridge-nf-call-ip6tables = 1 net.bridge.bridge-nf-call-iptables = 1 EOF sudo sysctl --system 3. Enable VIP binding 1 2 3 4 5 sysctl -w net.ipv4.ip_nonlocal_bind=1 echo net.ipv4.ip_nonlocal_bind=1 &gt;&gt;]]></description></item><item><title>Kubernetes 資源調度與使用量限制</title><link>https://droyuki.github.io/2021/05/eks-resources-config/</link><pubDate>Wed, 26 May 2021 20:32:58 +0800</pubDate><author>weichen</author><guid>https://droyuki.github.io/2021/05/eks-resources-config/</guid><description>Requests、Limits、LimitRange、ResourceQuota、QoS、Eviction Requests 與 Limits 當節點資源不夠時，沒有設定 requests</description></item></channel></rss>